server:
  port: 8080

spring:
  application:
    name: ai-pdf-qa

  # -------------------------------
  # Kafka Configuration
  # -------------------------------
  kafka:
    bootstrap-servers: kafka:9092

    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.apache.kafka.common.serialization.StringSerializer
      retries: 3
      acks: all

    consumer:
      group-id: demo-group
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      auto-offset-reset: earliest

    listener:
      ack-mode: record
      missing-topics-fatal: false

  # -------------------------------
  # PostgreSQL (via docker-compose)
  # -------------------------------
  datasource:
    url: jdbc:postgresql://postgres:5432/postgres
    username: postgres
    password: password
    driver-class-name: org.postgresql.Driver

  # -------------------------------
  # Ollama (inside docker network)
  # -------------------------------
  ai:
    ollama:
      base-url: http://ollama:11434
      chat:
        options:
          model: mistral
      embedding:
        options:
          model: nomic-embed-text

  # -------------------------------
  # Weaviate
  # -------------------------------
  vectorstore:
    weaviate:
      scheme: http
      host: weaviate
      port: 8082
      object-class: PdfChunk

# -------------------------------
# Logging
# -------------------------------
logging:
  level:
    root: INFO
    org.springframework.kafka: DEBUG
    dev.langchain4j: DEBUG
# -------------------------------
# Actuator
# -------------------------------
management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: always



